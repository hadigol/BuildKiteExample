steps:
  - label: "Build inside container"
    plugins:
      - docker#v5.12.0:
          image: "golang:1.18.0"
          chown: true
    commands: 
        - "go build -o dist/hello-app ./hello"
    artifact_paths: "./dist/hello-app"
  - block: "Name"
    prompt: "Enter your Name"
    fields:
      - text: "First Name"
        key: "first-name"
  - command: "buildkite-agent artifact download dist/hello-app ."
    label: "Download the Artifact"
  - command: ".buildkite/run-go.sh"
    label: "Run the Go Application"
